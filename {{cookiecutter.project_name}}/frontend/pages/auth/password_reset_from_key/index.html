{% extends "layouts/base/index.html" %}
{% block body %}
    <main class="bg-base-200 min-h-screen p-4 sm:p-6">
        <section class="border-base-300 bg-base-100 mx-auto mt-10 w-full max-w-md rounded-lg border p-6 shadow-sm sm:mt-16 sm:p-8">
            <h1 class="text-base-content text-2xl font-semibold tracking-tight">Set new password</h1>
            {% if token_fail %}
                <p class="text-muted-content mt-3 text-sm">This reset link is invalid or has already been used.</p>
                <p class="text-muted-content mt-6 text-center text-sm">
                    <a href="{% url 'account_reset_password' %}" class="text-base-content font-medium underline">Request a new reset link</a>
                </p>
            {% else %}
                <form method="post" class="mt-6 space-y-4">
                    {% csrf_token %}
                    {% include "components/form/non_field_errors.html" with form=form %}
                    {% include "components/form/hidden_fields.html" with form=form %}
                    {% for field in form.visible_fields %}
                        {% include "components/form/input.html" with field=field input_class="input" %}
                    {% endfor %}
                    <button type="submit" class="btn btn-primary w-full">Update password</button>
                </form>
            {% endif %}
        </section>
    </main>
{% endblock body %}
